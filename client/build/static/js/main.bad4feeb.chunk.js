(this["webpackJsonpprop-it-up"]=this["webpackJsonpprop-it-up"]||[]).push([[0],{29:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t);var a=c(0),r=c(1),n=c.n(r),s=c(21),o=c.n(s),l=(c(29),c(2)),j=c(23),i=(c(8),c(4)),u=c.n(i),d=c(5);var b=function(e){var t=Object(r.useState)([]),c=Object(l.a)(t,2),n=(c[0],c[1]),s=Object(r.useState)([]),o=Object(l.a)(s,2),i=(o[0],o[1]),b=Object(r.useState)([]),h=Object(l.a)(b,2),p=(h[0],h[1]),O=Object(r.useState)([]),m=Object(l.a)(O,2),f=m[0],x=m[1],g=Object(r.useState)(""),v=Object(l.a)(g,2),N=(v[0],v[1]),w=Object(r.useState)(""),D=Object(l.a)(w,2),k=(D[0],D[1]),S=Object(r.useState)(""),P=Object(l.a)(S,2),B=(P[0],P[1]);function C(){u.a.get("http://localhost:8000/api/project").then((function(e){console.log(f),x(function(e){for(var t=Object(j.a)(e),c=0;c<t.length;c++)for(var a=0;a<t.length-c-1;a++)if(t[a].dueDate>t[a+1].dueDate){var r=[t[a+1],t[a]];t[a]=r[0],t[a+1]=r[1]}return t}(e.data)),N(""),k(""),B("")})).catch((function(e){return console.error(e)}))}Object(r.useEffect)((function(){C()}),[]),Object(r.useEffect)((function(){n(f.filter((function(e){return"Backlog"!==e.status})))}),[]),Object(r.useEffect)((function(){i(f.filter((function(e){return"inPrograss"!==e.status})))}),[]),Object(r.useEffect)((function(){p(f.filter((function(e){return"compleated"!==e.status})))}),[]);return Object(a.jsxs)("div",{className:"continer",children:[Object(a.jsx)("div",{className:"row ml-3 mr-3 border border-dark",children:Object(a.jsxs)("div",{className:"row mt-3 mb-3",children:[Object(a.jsxs)("div",{className:"col-lg-4",children:[Object(a.jsx)("div",{className:" row bg-primary p-3 ml-2 text-center",children:" Backlog "}),f.filter((function(e){return"Backlog"===e.status})).map((function(e){return Object(a.jsxs)("div",{className:"border border-dark m-3 p-2",children:[Object(a.jsx)("h3",{children:e.project}),Object(a.jsx)("p",{children:e.dueDate}),Object(a.jsx)("button",{onClick:function(){return t=e._id,void u.a.get("http://localhost:8000/api/project/"+t).then((function(e){console.log(e);var c={project:e.data.Project.project,dueDate:e.data.Project.dueDate,status:"inPrograss"};u.a.put("http://localhost:8000/api/project/"+t,c).then((function(e){return C()}))})).catch((function(e){return console.error(e)}));var t},className:"btn btn-warning",children:"Start project"})]})}))]}),Object(a.jsxs)("div",{className:"col-lg-4",children:[Object(a.jsx)("div",{className:" row bg-warning p-3 ml-2 text-center",children:" Inprograss "}),f.filter((function(e){return"inPrograss"===e.status})).map((function(e){return Object(a.jsxs)("div",{className:"border border-dark m-3 p-2",children:[Object(a.jsx)("h3",{children:e.project}),Object(a.jsx)("p",{children:e.dueDate}),Object(a.jsx)("button",{onClick:function(){return t=e._id,void u.a.get("http://localhost:8000/api/project/"+t).then((function(e){console.log(e);var c={project:e.data.Project.project,dueDate:e.data.Project.dueDate,status:"compleated"};u.a.put("http://localhost:8000/api/project/"+t,c),C(),N(""),k(""),B("")})).catch((function(e){return console.error(e)}));var t},className:"btn btn-success",children:"Move to compleated"})]})}))]}),Object(a.jsxs)("div",{className:"col-lg-4",children:[Object(a.jsx)("div",{className:" row bg-success p-3 ml-2 text-center",children:" Complated "}),f.filter((function(e){return"compleated"===e.status})).map((function(e){return Object(a.jsxs)("div",{className:"border border-dark m-3 p-2",children:[Object(a.jsx)("h3",{children:e.project}),Object(a.jsx)("p",{children:e.dueDate}),Object(a.jsx)("button",{onClick:function(){return t=e._id,u.a.delete("http://localhost:8000/api/project/"+t),x(f.filter((function(e){return e._id!==t}))),C(),void Object(d.c)("/");var t},className:"btn btn-danger",children:"Remove project"})]})}))]})]})}),Object(a.jsx)("div",{className:"row mt-5 ml-3",children:Object(a.jsxs)(d.a,{to:"/new",className:"btn btn-info",children:[" ",Object(a.jsx)("u",{children:"Add New Project"})," "]})})]})},h=c(11),p=function(e){var t=Object(r.useState)(""),c=Object(l.a)(t,2),n=c[0],s=c[1],o=Object(r.useState)(""),j=Object(l.a)(o,2),i=j[0],b=j[1],p=Object(r.useState)("Backlog"),O=Object(l.a)(p,2),m=O[0],f=(O[1],Object(r.useState)({})),x=Object(l.a)(f,2),g=x[0],v=x[1],N=Object(r.useState)([]),w=Object(l.a)(N,2),D=w[0],k=w[1];Object(r.useEffect)((function(){u.a.get("http://localhost:8000/api/project").then((function(e){console.log(D),k(e.data)})).catch((function(e){return console.error(e)}))}),[]);var S=function(e){var t="";e.target.value.length<3&&(t=" project name must be at least 3 characters"),v(Object(h.a)(Object(h.a)({},g),{},{Name:t}))};return Object(a.jsxs)("div",{className:"container mt-5 ",children:[Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)(d.a,{to:"/",children:[" ",Object(a.jsx)("u",{children:"Back to DashBoard"})," "]})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-12 p-3",children:Object(a.jsx)("form",{onSubmit:function(e){e.preventDefault(),!function(e){for(var t=!0,c=0;c<D.length;c++)if(D[c].project==e){t=!1;break}return t}(n)?v({message:"project name shoud be unique"}):u.a.post("http://localhost:8000/api/project/new",{project:n,dueDate:i,status:m}).then((function(e){e.data.errors?(v(e.data.errors),console.log("errors",g)):Object(d.c)("/")})).catch((function(e){return console.log(e)}))},className:"form-inline",children:Object(a.jsxs)("fieldset",{className:"border p-2",children:[Object(a.jsx)("legend",{className:"w-auto",children:"Plan a new project :"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"col-sm-3 col-form-label",children:" Project "}),Object(a.jsx)("input",{type:"text",className:"col-sm-9",onChange:function(e){s(e.target.value),S(e)},onBlur:S,value:n}),Object(a.jsx)("p",{className:"text-danger",children:g.project?g.project.message:""}),Object(a.jsx)("p",{className:"text-danger",children:g?g.message:""})]}),Object(a.jsxs)("div",{className:"form-group mt-3",children:[Object(a.jsx)("label",{className:"col-4 col-form-label",children:" Due Date "}),Object(a.jsx)("input",{type:"date",className:"col-8",onChange:function(e){return b(e.target.value)},value:i}),Object(a.jsx)("p",{className:"text-danger",children:g.dueDate?g.dueDate.message:""})]}),Object(a.jsx)("input",{type:"submit",value:"Plan project",className:"btn btn-info mt-3 btn-block"})]})})})})]})};var O=function(){return Object(a.jsxs)("div",{className:"continer",children:[Object(a.jsx)("div",{className:"row ml-5 mt-3 text-center",children:Object(a.jsx)("h1",{children:"Project Manager"})}),Object(a.jsxs)(d.b,{children:[Object(a.jsx)(b,{path:"/"}),Object(a.jsx)(p,{path:"/new"})]})]})},m=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,54)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,s=t.getTTFB;c(e),a(e),r(e),n(e),s(e)}))};o.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(O,{})}),document.getElementById("root")),m()}},[[53,1,2]]]);
//# sourceMappingURL=main.bad4feeb.chunk.js.map